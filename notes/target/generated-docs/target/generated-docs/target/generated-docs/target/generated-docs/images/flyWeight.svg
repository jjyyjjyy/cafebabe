<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="213px" preserveAspectRatio="none" style="width:394px;height:213px;" version="1.1" viewBox="0 0 394 213" width="394px" zoomAndPan="magnify"><defs><filter height="300%" id="fs0g0t6tbd9qt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class Flyweight--><rect fill="#FEFECE" filter="url(#fs0g0t6tbd9qt)" height="60.9551" id="Flyweight" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="6" y="14.5"/><ellipse cx="61.25" cy="30.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M63.7231,36.6431 Q63.1421,36.9419 62.5029,37.0913 Q61.8638,37.2407 61.1582,37.2407 Q58.6514,37.2407 57.3315,35.5889 Q56.0117,33.937 56.0117,30.8159 Q56.0117,27.6865 57.3315,26.0347 Q58.6514,24.3828 61.1582,24.3828 Q61.8638,24.3828 62.5112,24.5322 Q63.1587,24.6816 63.7231,24.9805 L63.7231,27.7031 Q63.0923,27.1221 62.4988,26.8523 Q61.9053,26.5825 61.2744,26.5825 Q59.9297,26.5825 59.2449,27.6492 Q58.5601,28.7158 58.5601,30.8159 Q58.5601,32.9077 59.2449,33.9744 Q59.9297,35.041 61.2744,35.041 Q61.9053,35.041 62.4988,34.7712 Q63.0923,34.5015 63.7231,33.9204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="52" x="81.75" y="35.0352">Flyweight</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="176" y1="46.5" y2="46.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="176" y1="54.5" y2="54.5"/><ellipse cx="17" cy="66.4775" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="26" y="69.1348">void operate(ExternalState)</text><!--class ConcreteFlyweight--><rect fill="#FEFECE" filter="url(#fs0g0t6tbd9qt)" height="60.9551" id="ConcreteFlyweight" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="6" y="142"/><ellipse cx="37.2" cy="158" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M39.6731,164.1431 Q39.0921,164.4419 38.4529,164.5913 Q37.8138,164.7407 37.1082,164.7407 Q34.6014,164.7407 33.2815,163.0889 Q31.9617,161.437 31.9617,158.3159 Q31.9617,155.1865 33.2815,153.5347 Q34.6014,151.8828 37.1082,151.8828 Q37.8138,151.8828 38.4612,152.0322 Q39.1087,152.1816 39.6731,152.4805 L39.6731,155.2031 Q39.0423,154.6221 38.4488,154.3523 Q37.8553,154.0825 37.2244,154.0825 Q35.8797,154.0825 35.1949,155.1492 Q34.5101,156.2158 34.5101,158.3159 Q34.5101,160.4077 35.1949,161.4744 Q35.8797,162.541 37.2244,162.541 Q37.8553,162.541 38.4488,162.2712 Q39.0423,162.0015 39.6731,161.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="54.8" y="162.5352">ConcreteFlyweight</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="176" y1="174" y2="174"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="176" y1="182" y2="182"/><ellipse cx="17" cy="193.9775" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="26" y="196.6348">void operate(ExternalState)</text><!--class FlyweightFactory--><rect fill="#FEFECE" filter="url(#fs0g0t6tbd9qt)" height="73.9102" id="FlyweightFactory" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="212" y="8"/><ellipse cx="247.7" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M250.1731,30.1431 Q249.5921,30.4419 248.9529,30.5913 Q248.3138,30.7407 247.6082,30.7407 Q245.1014,30.7407 243.7815,29.0889 Q242.4617,27.437 242.4617,24.3159 Q242.4617,21.1865 243.7815,19.5347 Q245.1014,17.8828 247.6082,17.8828 Q248.3138,17.8828 248.9612,18.0322 Q249.6087,18.1816 250.1731,18.4805 L250.1731,21.2031 Q249.5423,20.6221 248.9488,20.3523 Q248.3553,20.0825 247.7244,20.0825 Q246.3797,20.0825 245.6949,21.1492 Q245.0101,22.2158 245.0101,24.3159 Q245.0101,26.4077 245.6949,27.4744 Q246.3797,28.541 247.7244,28.541 Q248.3553,28.541 248.9488,28.2712 Q249.5423,28.0015 250.1731,27.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="266.3" y="28.5352">FlyweightFactory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="213" x2="382" y1="40" y2="40"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="220" y="48.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="232" y="54.6348">Map flyWeights</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="213" x2="382" y1="60.9551" y2="60.9551"/><ellipse cx="223" cy="72.9326" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="232" y="75.5898">Flyweight get(InternalState)</text><!--link Flyweight to ConcreteFlyweight--><path d="M91.5,95.7355 C91.5,111.309 91.5,127.9647 91.5,141.7679 " fill="none" id="Flyweight-ConcreteFlyweight" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="84.5001,95.5395,91.5,75.5394,98.5001,95.5394,84.5001,95.5395" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
class Flyweight{
+ void operate(ExternalState)
}
class ConcreteFlyweight{
+ void operate(ExternalState)
}
class FlyweightFactory{
- Map flyWeights
+ Flyweight get(InternalState)
}

Flyweight <|- - ConcreteFlyweight
@enduml

PlantUML version 1.2018.10(Sun Aug 26 01:02:59 CST 2018)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 12+33
Operating System: Mac OS X
OS Version: 10.14.4
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>